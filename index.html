<!DOCTYPE html>
<html>
<head>
    <title>Barcode Scanner</title>
    <script src="https://cdn.jsdelivr.net/npm/quagga@0.12.1"></script>
</head>
<body>
    <h1>Barcode Scanner</h1>
    <video id="camera" autoplay></video>
    <button id="scan">Start Scanning</button>
    <ul id="scanned-products"></ul>

    <script>
        const productList = {
            "123456789012": "Product A",
            "987654321098": "Product B",
            "072036310200": "HT Table Salt",
            "058496723040": "Cat Treats",
            "692042014710": "EGO Chainsaw Lubricant"
        };
        const scannedItems = [];

        document.getElementById('scan').addEventListener('click', () => {
            Quagga.init({
                inputStream: {
                    type: "LiveStream",
                    target: document.querySelector('#camera'),
                },
                decoder: {
                    readers: ["ean_reader"] // Adjust to your barcode type
                }
            }, (err) => {
                if (err) {
                    console.error(err);
                    return;
                }
                Quagga.start();
            });

            Quagga.onDetected((data) => {
                const code = data.codeResult.code;
                const product = productList[code] || "Unknown Product";
                if (!scannedItems.includes(product)) {
                    scannedItems.push(product);
                    const listItem = document.createElement("li");
                    listItem.textContent = product;
                    document.getElementById('scanned-products').appendChild(listItem);
                }
            });
        });
    </script>
</body>
</html>
